<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5G NR Architecture - Interactive Learning Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
        }

        .watermark {
            position: absolute;
            top: 10px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .architecture-container {
            position: relative;
            margin: 40px auto;
            padding: 40px;
            background: #f7fafc;
            border-radius: 15px;
            border: 3px solid #e2e8f0;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #2d3748;
        }

        .network-diagram {
            display: flex;
            justify-content: space-around;
            position: relative;
            margin: 50px 0;
            min-height: 600px;
        }

        .network-element {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .element-label {
            font-size: 18px;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .layers {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .layer-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 15px;
            border-radius: 10px;
            position: relative;
        }

        .layer-label {
            font-size: 14px;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .protocol-block {
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #2d3748;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative;
            min-width: 140px;
            background: white;
        }

        .protocol-block:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            z-index: 100;
        }

        .protocol-block::before {
            content: '';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: #48bb78;
            border-radius: 50%;
            opacity: 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Layer 3 - NAS & RRC (Pink/Red tones) */
        .nas { background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%); color: white; }
        .rrc { background: linear-gradient(135deg, #ff4757 0%, #ff6b81 100%); color: white; }

        /* Layer 2 - PDCP, RLC, MAC (Blue/Cyan tones) */
        .pdcp { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .rlc { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; }
        .mac { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }

        /* Layer 1 - PHY (Purple/Indigo tones) */
        .phy { background: linear-gradient(135deg, #5f72bd 0%, #9b23ea 100%); color: white; }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 20px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            max-width: 350px;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 2px solid #4299e1;
            left: 50%;
            transform: translateX(-50%);
            top: 120%;
        }

        .tooltip::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 10px solid transparent;
            border-bottom-color: #4299e1;
        }

        .protocol-block:hover .tooltip {
            opacity: 1;
        }

        .tooltip h4 {
            color: #4299e1;
            margin-bottom: 10px;
            font-size: 16px;
            border-bottom: 2px solid #4299e1;
            padding-bottom: 5px;
        }

        .tooltip ul {
            margin-left: 20px;
            margin-top: 8px;
        }

        .tooltip li {
            margin-bottom: 5px;
        }

        /* Connection wires */
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .wire {
            stroke: #4a5568;
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 8, 5;
            animation: dashAnimation 30s linear infinite;
        }

        @keyframes dashAnimation {
            to {
                stroke-dashoffset: -1000;
            }
        }

        .signal {
            r: 6;
            fill: #48bb78;
            filter: drop-shadow(0 0 8px #48bb78);
            animation: signalMove 4s ease-in-out infinite;
        }

        @keyframes signalMove {
            0%, 100% { opacity: 0; }
            10%, 90% { opacity: 1; }
        }

        /* Interface labels */
        .interface-label {
            position: absolute;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 5;
        }

        .theory-section {
            margin-top: 50px;
            padding: 30px;
            background: linear-gradient(135deg, #f6f8fb 0%, #e9ecef 100%);
            border-radius: 15px;
            border: 3px solid #cbd5e0;
        }

        .theory-section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 2em;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theory-section h2::before {
            content: 'üìö';
            font-size: 1.2em;
        }

        .theory-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .theory-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 5px solid #667eea;
        }

        .theory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .theory-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theory-card p {
            color: #4a5568;
            line-height: 1.8;
            margin-bottom: 12px;
        }

        .theory-card ul {
            margin-left: 20px;
            color: #4a5568;
            line-height: 1.8;
        }

        .theory-card ul li {
            margin-bottom: 8px;
        }

        .key-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-box:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .feature-box h4 {
            color: #2d3748;
            margin-bottom: 10px;
        }

        .feature-box p {
            color: #718096;
            font-size: 0.9em;
        }

        @media (max-width: 1200px) {
            .network-diagram {
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }

            .theory-content {
                grid-template-columns: 1fr;
            }
        }

        .loading-animation {
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="watermark">55984 - Vikas Srivastava</div>
        
        <h1 class="loading-animation">üî∑ 5G NR Architecture üî∑</h1>
        <p class="subtitle">Interactive Learning Tool - Hover over blocks to learn more</p>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%);"></div>
                <span>Layer 3 (Control Plane)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
                <span>Layer 2 (Data Link)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #5f72bd 0%, #9b23ea 100%);"></div>
                <span>Layer 1 (Physical)</span>
            </div>
        </div>

        <div class="architecture-container">
            <svg id="connectionSvg"></svg>
            
            <div class="interface-label" style="top: 10%; left: 40%; transform: translateX(-50%);">Uu Interface</div>
            <div class="interface-label" style="top: 40%; left: 50%; transform: translateX(-50%);">gNB</div>
            <div class="interface-label" style="top: 10%; right: 20%;">AMF Interface</div>

            <div class="network-diagram" id="networkDiagram">
                <!-- UE (User Equipment) -->
                <div class="network-element" id="ue">
                    <div class="element-label">üì± UE (User Equipment)</div>
                    <div class="layers">
                        <!-- Layer 3 -->
                        <div class="layer-group" style="background: rgba(255, 107, 157, 0.1);">
                            <div class="layer-label">Layer 3</div>
                            <div class="protocol-block nas" data-layer="nas">
                                NAS
                                <div class="tooltip">
                                    <h4>üì° NAS (Non-Access Stratum)</h4>
                                    <p><strong>Purpose:</strong> Handles communication between UE and Core Network (AMF/SMF)</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Authentication & Security</li>
                                        <li>Session Management</li>
                                        <li>Mobility Management</li>
                                        <li>PDU Session Establishment</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="protocol-block rrc" data-layer="rrc">
                                RRC
                                <div class="tooltip">
                                    <h4>üîß RRC (Radio Resource Control)</h4>
                                    <p><strong>Purpose:</strong> Controls radio resources and UE-gNB connection</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Broadcast System Information</li>
                                        <li>Connection Management</li>
                                        <li>Mobility Procedures</li>
                                        <li>QoS Management</li>
                                        <li>Radio Bearer Configuration</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Layer 2 -->
                        <div class="layer-group" style="background: rgba(79, 172, 254, 0.1);">
                            <div class="layer-label">Layer 2</div>
                            <div class="protocol-block pdcp" data-layer="pdcp">
                                PDCP
                                <div class="tooltip">
                                    <h4>üîí PDCP (Packet Data Convergence Protocol)</h4>
                                    <p><strong>Purpose:</strong> Data security and header compression</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Encryption & Integrity Protection</li>
                                        <li>Header Compression (ROHC)</li>
                                        <li>In-sequence Delivery</li>
                                        <li>Duplicate Detection</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="protocol-block rlc" data-layer="rlc">
                                RLC
                                <div class="tooltip">
                                    <h4>üì¶ RLC (Radio Link Control)</h4>
                                    <p><strong>Purpose:</strong> Reliable data transfer and segmentation</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Segmentation & Reassembly</li>
                                        <li>ARQ (Automatic Repeat Request)</li>
                                        <li>Error Detection</li>
                                        <li>Modes: TM, UM, AM</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="protocol-block mac" data-layer="mac">
                                MAC
                                <div class="tooltip">
                                    <h4>‚ö° MAC (Medium Access Control)</h4>
                                    <p><strong>Purpose:</strong> Logical channel multiplexing and scheduling</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Dynamic Scheduling</li>
                                        <li>HARQ (Hybrid ARQ)</li>
                                        <li>Logical Channel Prioritization</li>
                                        <li>Random Access Procedure</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Layer 1 -->
                        <div class="layer-group" style="background: rgba(95, 114, 189, 0.1);">
                            <div class="layer-label">Layer 1</div>
                            <div class="protocol-block phy" data-layer="phy">
                                PHY
                                <div class="tooltip">
                                    <h4>üì∂ PHY (Physical Layer)</h4>
                                    <p><strong>Purpose:</strong> Physical signal transmission</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Modulation (QPSK, 16/64/256-QAM)</li>
                                        <li>OFDM Signal Generation</li>
                                        <li>Channel Coding (LDPC, Polar)</li>
                                        <li>Beamforming & MIMO</li>
                                        <li>Physical Channels (PDSCH, PUSCH)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- gNB (Next Generation NodeB) -->
                <div class="network-element" id="gnb">
                    <div class="element-label">üóº gNB (Next Generation NodeB)</div>
                    <div class="layers">
                        <!-- Layer 3 -->
                        <div class="layer-group" style="background: rgba(255, 107, 157, 0.1);">
                            <div class="layer-label">Layer 3</div>
                            <div class="protocol-block nas" data-layer="nas" style="opacity: 0.5;">
                                NAS
                                <div class="tooltip">
                                    <h4>üì° NAS at gNB</h4>
                                    <p>NAS messages are <strong>transparent</strong> at gNB - they pass through without processing to the AMF (Core Network)</p>
                                    <p>gNB acts as a relay for NAS messages between UE and AMF</p>
                                </div>
                            </div>
                            <div class="protocol-block rrc" data-layer="rrc">
                                RRC
                                <div class="tooltip">
                                    <h4>üîß RRC at gNB</h4>
                                    <p><strong>Purpose:</strong> Manages radio resources and UE connections</p>
                                    <p><strong>Key Functions:</strong></p>
                                    <ul>
                                        <li>Connection Setup/Release</li>
                                        <li>System Information Broadcasting</li>
                                        <li>Measurement Configuration</li>
                                        <li>Handover Control</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Layer 2 -->
                        <div class="layer-group" style="background: rgba(79, 172, 254, 0.1);">
                            <div class="layer-label">Layer 2</div>
                            <div class="protocol-block pdcp" data-layer="pdcp">
                                PDCP
                                <div class="tooltip">
                                    <h4>üîí PDCP at gNB</h4>
                                    <p><strong>Purpose:</strong> Processes user and control plane data</p>
                                    <p><strong>Functions:</strong></p>
                                    <ul>
                                        <li>Performs Encryption/Decryption</li>
                                        <li>Header Compression/Decompression</li>
                                        <li>Reordering & Duplicate Detection</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="protocol-block rlc" data-layer="rlc">
                                RLC
                                <div class="tooltip">
                                    <h4>üì¶ RLC at gNB</h4>
                                    <p><strong>Purpose:</strong> Manages data reliability</p>
                                    <p><strong>Functions:</strong></p>
                                    <ul>
                                        <li>Segmentation/Reassembly</li>
                                        <li>ARQ Retransmissions</li>
                                        <li>Error Correction</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="protocol-block mac" data-layer="mac">
                                MAC
                                <div class="tooltip">
                                    <h4>‚ö° MAC at gNB</h4>
                                    <p><strong>Purpose:</strong> Scheduler and resource allocator</p>
                                    <p><strong>Functions:</strong></p>
                                    <ul>
                                        <li>UE Scheduling (DL/UL)</li>
                                        <li>HARQ Processing</li>
                                        <li>Resource Allocation</li>
                                        <li>Random Access Response</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Layer 1 -->
                        <div class="layer-group" style="background: rgba(95, 114, 189, 0.1);">
                            <div class="layer-label">Layer 1</div>
                            <div class="protocol-block phy" data-layer="phy">
                                PHY
                                <div class="tooltip">
                                    <h4>üì∂ PHY at gNB</h4>
                                    <p><strong>Purpose:</strong> RF signal processing</p>
                                    <p><strong>Functions:</strong></p>
                                    <ul>
                                        <li>Signal Modulation/Demodulation</li>
                                        <li>Channel Estimation</li>
                                        <li>Beamforming Implementation</li>
                                        <li>Massive MIMO Processing</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AMF (Access and Mobility Management Function) -->
                <div class="network-element" id="amf">
                    <div class="element-label">‚òÅÔ∏è AMF (Core Network)</div>
                    <div class="layers">
                        <div class="layer-group" style="background: rgba(255, 107, 157, 0.1);">
                            <div class="layer-label">Layer 3</div>
                            <div class="protocol-block nas" data-layer="nas">
                                NAS
                                <div class="tooltip">
                                    <h4>üì° NAS at AMF</h4>
                                    <p><strong>Purpose:</strong> Core Network control plane</p>
                                    <p><strong>AMF Functions:</strong></p>
                                    <ul>
                                        <li>Registration Management</li>
                                        <li>Connection Management</li>
                                        <li>Mobility Management</li>
                                        <li>Authentication (with AUSF)</li>
                                        <li>Security Context Management</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="theory-section">
            <h2>5G NR Protocol Stack Architecture</h2>
            
            <div class="theory-content">
                <div class="theory-card">
                    <h3>üéØ Overview</h3>
                    <p>The 5G NR (New Radio) protocol stack is the foundation of 5G wireless communication. It defines how data travels between the User Equipment (UE) and the 5G Core Network through the gNB (Next Generation NodeB).</p>
                    <p>The architecture is divided into <span class="highlight">three main layers</span>: Physical Layer (Layer 1), Data Link Layer (Layer 2), and Network Layer (Layer 3), each with specific protocols handling different aspects of communication.</p>
                </div>

                <div class="theory-card">
                    <h3>‚ö° Layer 1 - Physical Layer (PHY)</h3>
                    <p>The PHY layer is responsible for the actual transmission and reception of radio signals over the air interface.</p>
                    <ul>
                        <li><strong>Modulation:</strong> Uses QPSK, 16/64/256-QAM for efficient data transmission</li>
                        <li><strong>OFDM:</strong> Orthogonal Frequency Division Multiplexing for multi-carrier transmission</li>
                        <li><strong>Channel Coding:</strong> LDPC for data channels, Polar codes for control channels</li>
                        <li><strong>MIMO & Beamforming:</strong> Massive MIMO enables spatial multiplexing</li>
                        <li><strong>Frequency Range:</strong> FR1 (450 MHz - 6 GHz), FR2 (24.25 - 52.6 GHz mmWave)</li>
                    </ul>
                </div>

                <div class="theory-card">
                    <h3>üì¶ Layer 2 - Data Link Layer</h3>
                    <p>Layer 2 consists of three sub-layers (MAC, RLC, PDCP) that handle reliable data transfer, scheduling, and security:</p>
                    <ul>
                        <li><strong>MAC:</strong> Schedules resources, manages HARQ, handles random access</li>
                        <li><strong>RLC:</strong> Provides segmentation, reassembly, and ARQ for reliable delivery</li>
                        <li><strong>PDCP:</strong> Handles encryption, header compression (ROHC), and integrity protection</li>
                    </ul>
                    <p>These layers work together to ensure efficient, secure, and reliable data transmission.</p>
                </div>

                <div class="theory-card">
                    <h3>üîß Layer 3 - Network Layer</h3>
                    <p>Layer 3 protocols manage radio resources and core network communications:</p>
                    <ul>
                        <li><strong>RRC (Radio Resource Control):</strong> Manages the radio connection between UE and gNB, handles handovers, broadcasts system information, and configures radio bearers</li>
                        <li><strong>NAS (Non-Access Stratum):</strong> Provides end-to-end signaling between UE and Core Network (AMF/SMF), handles authentication, session management, and mobility procedures</li>
                    </ul>
                    <p><em>Note:</em> NAS messages are transparent to gNB‚Äîthey pass through without processing.</p>
                </div>

                <div class="theory-card">
                    <h3>üóº gNB Architecture</h3>
                    <p>The gNB (Next Generation NodeB) is the 5G radio base station that connects UEs to the 5G Core Network.</p>
                    <ul>
                        <li><strong>Central Unit (CU):</strong> Handles PDCP and RRC protocols</li>
                        <li><strong>Distributed Unit (DU):</strong> Processes RLC, MAC, and PHY layers</li>
                        <li><strong>Functional Split:</strong> Enables flexible deployment (centralized, distributed, hybrid)</li>
                        <li><strong>Interfaces:</strong> Uu (to UE), Xn (to other gNBs), NG (to 5G Core)</li>
                    </ul>
                </div>

                <div class="theory-card">
                    <h3>‚òÅÔ∏è 5G Core Network Integration</h3>
                    <p>The 5G Core (5GC) uses a Service-Based Architecture (SBA) with key network functions:</p>
                    <ul>
                        <li><strong>AMF:</strong> Access and Mobility Management‚Äîhandles registration, authentication, mobility</li>
                        <li><strong>SMF:</strong> Session Management Function‚Äîmanages PDU sessions and QoS</li>
                        <li><strong>UPF:</strong> User Plane Function‚Äîroutes and forwards user data packets</li>
                        <li><strong>AUSF:</strong> Authentication Server Function‚Äîhandles subscriber authentication</li>
                        <li><strong>NRF:</strong> Network Repository Function‚Äîservice discovery and registration</li>
                    </ul>
                </div>
            </div>

            <h2 style="margin-top: 40px;">üåü Key 5G NR Features</h2>
            <div class="key-features">
                <div class="feature-box">
                    <div class="feature-icon">üöÄ</div>
                    <h4>Enhanced Mobile Broadband</h4>
                    <p>Peak data rates up to 20 Gbps downlink, 10 Gbps uplink</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">‚ö°</div>
                    <h4>Ultra-Low Latency</h4>
                    <p>As low as 1ms latency for critical applications</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">üîó</div>
                    <h4>Massive IoT</h4>
                    <p>Support for 1 million devices per km¬≤</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">üì°</div>
                    <h4>Network Slicing</h4>
                    <p>Virtual networks tailored for different use cases</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">üîí</div>
                    <h4>Enhanced Security</h4>
                    <p>256-bit encryption and improved authentication</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">üåê</div>
                    <h4>Edge Computing</h4>
                    <p>Multi-access Edge Computing (MEC) for low latency</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Create dynamic SVG connections with animated signals
        function createConnections() {
            const svg = document.getElementById('connectionSvg');
            const diagram = document.getElementById('networkDiagram');
            
            // Clear existing SVG content
            svg.innerHTML = '';
            
            const elements = {
                ue: document.getElementById('ue'),
                gnb: document.getElementById('gnb'),
                amf: document.getElementById('amf')
            };

            // Get positions of protocol blocks
            function getBlockPosition(element, layer) {
                const blocks = element.querySelectorAll(`[data-layer="${layer}"]`);
                if (blocks.length > 0) {
                    const rect = blocks[0].getBoundingClientRect();
                    const containerRect = diagram.getBoundingClientRect();
                    return {
                        x: rect.left + rect.width / 2 - containerRect.left,
                        y: rect.top + rect.height / 2 - containerRect.top
                    };
                }
                return null;
            }

            // Create path between two points
            function createPath(x1, y1, x2, y2, layer) {
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                
                // Create curved path
                const midX = (x1 + x2) / 2;
                const curveOffset = 20;
                
                const d = `M ${x1} ${y1} Q ${midX} ${y1 - curveOffset}, ${midX} ${(y1 + y2) / 2} T ${x2} ${y2}`;
                
                path.setAttribute('d', d);
                path.setAttribute('class', 'wire');
                
                // Different colors for different layers
                const colors = {
                    nas: '#ff6b9d',
                    rrc: '#ff4757',
                    pdcp: '#4facfe',
                    rlc: '#43e97b',
                    mac: '#667eea',
                    phy: '#5f72bd'
                };
                
                path.setAttribute('stroke', colors[layer] || '#4a5568');
                svg.appendChild(path);

                // Create animated signal
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('class', 'signal');
                circle.setAttribute('fill', colors[layer] || '#48bb78');
                
                const animateMotion = document.createElementNS('http://www.w3.org/2000/svg', 'animateMotion');
                animateMotion.setAttribute('dur', '4s');
                animateMotion.setAttribute('repeatCount', 'indefinite');
                animateMotion.setAttribute('path', d);
                
                circle.appendChild(animateMotion);
                svg.appendChild(circle);
            }

            // Create connections for each layer
            const layers = ['nas', 'rrc', 'pdcp', 'rlc', 'mac', 'phy'];
            
            layers.forEach(layer => {
                // UE to gNB connections
                const uePos = getBlockPosition(elements.ue, layer);
                const gnbPos = getBlockPosition(elements.gnb, layer);
                
                if (uePos && gnbPos) {
                    createPath(uePos.x, uePos.y, gnbPos.x, gnbPos.y, layer);
                }

                // gNB to AMF (only NAS)
                if (layer === 'nas') {
                    const amfPos = getBlockPosition(elements.amf, layer);
                    if (gnbPos && amfPos) {
                        createPath(gnbPos.x, gnbPos.y, amfPos.x, amfPos.y, layer);
                    }
                }
            });
        }

        // Initialize connections when page loads
        window.addEventListener('load', () => {
            setTimeout(createConnections, 100);
        });

        // Recreate connections on window resize
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(createConnections, 250);
        });

        // Add smooth scroll to theory section
        document.addEventListener('DOMContentLoaded', () => {
            // Add subtle hover effects
            document.querySelectorAll('.protocol-block').forEach(block => {
                block.addEventListener('mouseenter', (e) => {
                    e.target.style.transform = 'translateY(-8px) scale(1.05)';
                });
                
                block.addEventListener('mouseleave', (e) => {
                    e.target.style.transform = 'translateY(0) scale(1)';
                });
            });
        });
    </script>
</body>
</html>
